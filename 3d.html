<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>3D E-Bike Customizer</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #fff;
      color: #111;
    }
    header {
      background: #222;
      color: #fff;
      padding: 15px;
      text-align: center;
    }
    main {
      padding: 20px;
      text-align: center;
    }
    select, input[type="checkbox"], button {
      margin: 5px;
      padding: 8px;
      font-size: 14px;
    }
    .model-container {
      max-width: 600px;
      margin: 20px auto;
    }
    model-viewer {
      width: 100%;
      height: 500px;
      background-color: #eee;
    }
    .compatibility {
      margin-top: 30px;
      text-align: center;
    }
    .compatibility table {
      margin: 0 auto;
      border-collapse: collapse;
    }
    .compatibility th, .compatibility td {
      padding: 8px 15px;
    }
    .btns {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>3D E-Bike Customizer</h1>
  </header>

  <main>
    <div>
      <select id="brand" onchange="updateModels()">
        <option value="">Select Brand</option>
        <option value="macfox">Macfox</option>
        <option value="super73">Super73</option>
        <option value="surron">Surron</option>
        <option value="talaria">Talaria</option>
      </select>

      <select id="model">
        <option value="">Select Model</option>
      </select>

      <select id="seatCover">
        <option value="">Seat Cover</option>
        <option value="-seatcover">Guts Black</option>
        <option value="-seatcover-red">Guts Red</option>
        <option value="-seatcover-ts">Thrill Seekers</option>
      </select>

      <label>
        <input type="checkbox" id="odiPlate" />
        ODI Plate
      </label>

      <div class="btns">
        <button onclick="loadModel()">üîÑ View Bike</button>
        <a href="index.html"><button>‚¨Ö Back to Home</button></a>
      </div>
    </div>

    <div class="model-container">
      <model-viewer id="viewer" src="" alt="3D Bike" auto-rotate camera-controls></model-viewer>
    </div>

    <div class="compatibility">
      <h3>Accessory Compatibility</h3>
      <table border="1">
        <tr><th>Accessory</th><th>Status</th></tr>
        <tr><td>Seat Cover</td><td id="compat-seat">‚ùì</td></tr>
        <tr><td>ODI Plate</td><td id="compat-odi">‚ùì</td></tr>
      </table>
    </div>
  </main>

  <script>
    const modelList = {
      macfox: ["x1", "x1s", "x2", "m19", "m20x"],
      super73: ["z1", "zx", "rx", "r"],
      surron: ["lightbee-x", "ultrabee", "stormbee"],
      talaria: ["sting", "sting-r", "x3"]
    };

    function updateModels() {
      const brand = document.getElementById("brand").value;
      const modelSelect = document.getElementById("model");
      modelSelect.innerHTML = "<option value=''>Select Model</option>";

      if (brand && modelList[brand]) {
        modelList[brand].forEach(model => {
          const opt = document.createElement("option");
          opt.value = model;
          opt.textContent = model.toUpperCase();
          modelSelect.appendChild(opt);
        });
      }
    }

    function loadModel() {
      const brand = document.getElementById("brand").value;
      const model = document.getElementById("model").value;
      const seat = document.getElementById("seatCover").value || "";
      const hasODI = document.getElementById("odiPlate").checked;
      const odi = hasODI ? "-odi" : "";

      const fileName = `${brand}-${model}${seat}${odi}.glb`;

      const viewer = document.getElementById("viewer");
      viewer.src = fileName;

      // Update compatibility
      document.getElementById("compat-seat").textContent = seat ? "‚úÖ" : "‚ùå";
      document.getElementById("compat-odi").textContent = hasODI ? "‚úÖ" : "‚ùå";
    }
  </script>
</body>
</html>
